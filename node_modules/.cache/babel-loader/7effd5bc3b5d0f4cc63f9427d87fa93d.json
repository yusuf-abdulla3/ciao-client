{"ast":null,"code":"var _jsxFileName = \"/Users/yusuf/lighthouse/ciao-app/Ciao-1/client/src/components/Card/AddVideo.js\",\n    _s = $RefreshSig$();\n\n// import Button from \"./Button\";\nimport { useState } from \"react\";\nimport { Form, Button } from 'react-bootstrap';\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function AddVideo(props) {\n  _s();\n\n  const {\n    cardId,\n    userId\n  } = props;\n  const [file, setFile] = useState(\"\");\n  const [fileName, setFilename] = useState(\"Choose File\");\n  const [uploadedFile, setUploadedFile] = useState({});\n  const history = useHistory();\n\n  const onChange = e => {\n    setFile(e.target.files[0]);\n    setFilename(e.target.files[0].name);\n  }; // const onClick = () => {\n  //   console.log(\"clicked on add video\");\n  // };\n  // const title = \"Add Video\"\n\n\n  const onSubmit = async e => {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append(\"file\", file);\n    formData.append('cardId', cardId);\n    formData.append('userId', userId);\n\n    try {\n      const url = \"http://localhost:3001/api/uploads\"; // const reactData = {cardId, userId};\n      // console.log('reactdata in video', reactData);\n\n      const res = await axios.post(url, formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      });\n      const {\n        fileName,\n        filePath\n      } = res.data;\n      setUploadedFile({\n        fileName,\n        filePath\n      });\n    } catch (err) {\n      if (err) {\n        console.log(\"there was an error\");\n      } else {\n        console.log(err.response.data.msg);\n      }\n    } // history.push(\"/createcard\");\n\n\n    window.location.reload(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: onSubmit,\n      className: \"contact-form mycontformmodal\",\n      children: /*#__PURE__*/_jsxDEV(Form.Group, {\n        controlId: \"formFile\",\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"custom-file form-group myformgrp\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"file\" // className=\"custom-file-input\"\n            ,\n            onChange: onChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Form.Label, {\n            className: \"custom-file-label\",\n            children: fileName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            value: \"Upload\",\n            class: \"btn btn-primary mybtncss\",\n            children: \"Upload\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(AddVideo, \"aQEcxDfndGhGPmCR8NvuZNNFQ1M=\", false, function () {\n  return [useHistory];\n});\n\n_c = AddVideo;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddVideo\");","map":{"version":3,"sources":["/Users/yusuf/lighthouse/ciao-app/Ciao-1/client/src/components/Card/AddVideo.js"],"names":["useState","Form","Button","axios","useHistory","AddVideo","props","cardId","userId","file","setFile","fileName","setFilename","uploadedFile","setUploadedFile","history","onChange","e","target","files","name","onSubmit","preventDefault","formData","FormData","append","url","res","post","headers","filePath","data","err","console","log","response","msg","window","location","reload"],"mappings":"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","sourcesContent":["// import Button from \"./Button\";\nimport { useState } from \"react\";\nimport {Form, Button }from 'react-bootstrap';\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\n\n\n\nexport default function AddVideo(props) {\n  const {cardId, userId} =props;\n  const [file, setFile] = useState(\"\");\n  const [fileName, setFilename] = useState(\"Choose File\");\n  const [uploadedFile, setUploadedFile] = useState({});\n  const history = useHistory();\n  const onChange = (e) => {\n    setFile(e.target.files[0]);\n    setFilename(e.target.files[0].name);\n  };\n  // const onClick = () => {\n  //   console.log(\"clicked on add video\");\n  // };\n  // const title = \"Add Video\"\n \n  const onSubmit = async (e) => {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append(\"file\", file);\n    formData.append('cardId', cardId);\n    formData.append('userId', userId);\n\n    \n     \n    try {\n      const url = \"http://localhost:3001/api/uploads\";\n      // const reactData = {cardId, userId};\n      // console.log('reactdata in video', reactData);\n      const res = await axios.post(url, formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\", \n        },\n      });\n\n      const { fileName, filePath } = res.data;\n      setUploadedFile({ fileName, filePath });\n    } catch (err) {\n      if (err) {\n        console.log(\"there was an error\");\n      } else {\n        console.log(err.response.data.msg);\n      }\n    }\n    // history.push(\"/createcard\");\n    window.location.reload(false);\n  };\n\n  \n  return (\n    <>\n      {/* <Button onClick={onClick} title = {title}/> */}\n      <Form onSubmit={onSubmit} className=\"contact-form mycontformmodal\">\n      <Form.Group controlId=\"formFile\" className=\"mb-3\" >\n      {/* <form > */}\n        <div className=\"custom-file form-group myformgrp\">\n          <Form.Control\n            type=\"file\"\n            // className=\"custom-file-input\"\n            onChange={onChange}\n          />\n          <Form.Label className=\"custom-file-label\" >\n            {fileName}\n          </Form.Label>\n        </div>\n        <div>\n        <button type=\"submit\" value=\"Upload\" class=\"btn btn-primary mybtncss\">Upload</button>\n        </div>\n        {/* <Form.Control type=\"submit\" value=\"Upload\" className=\"mybtncss\" /> */}\n       \n      </Form.Group> \n      </Form>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}