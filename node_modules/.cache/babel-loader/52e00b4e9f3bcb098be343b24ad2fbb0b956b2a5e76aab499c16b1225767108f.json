{"ast":null,"code":"var _jsxFileName = \"/Users/yusuf/lighthouse/ciao-client/src/components/Card/Background.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext } from \"react\";\nimport \"../../background.css\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport CardContext from './CardContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Background = props => {\n  _s();\n  const {\n    cardId\n  } = props;\n  const {\n    background,\n    setBackground\n  } = useContext(CardContext);\n  const [data, setData] = useState([]);\n  const [backgroundImage, setBackgroundImage] = useState(\"\");\n  const [selectedBg, setSelectedBg] = useState({});\n  const [selectedBgId, setSelectedBgId] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isError, SetIsError] = useState(false);\n  const [show, setShow] = useState(false);\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n  const getBg = () => {\n    const url = `http://localhost:3001/api/bgimg/${cardId}`;\n    axios.get(url).then(res => {\n      console.log('data from db about bg', res.data.bg);\n      setBackground(res.data.bg);\n      console.log('background', background);\n      handleClose();\n    }).catch(err => console.log('err in bg', err));\n  };\n  const images = [{\n    id: 1,\n    imgSrc: \"https://blog.prezi.com/wp-content/uploads/2019/03/jason-leung-479251-unsplash.jpg\"\n  }, {\n    id: 2,\n    imgSrc: \"https://img.freepik.com/free-photo/hand-painted-watercolor-background-with-sky-clouds-shape_24972-1095.jpg?size=626&ext=jpg\"\n  }, {\n    id: 3,\n    imgSrc: \"https://venngage-wordpress.s3.amazonaws.com/uploads/2018/09/Colorful-Circle-Simple-Background-Image-1.jpg\"\n  }, {\n    id: 4,\n    imgSrc: \"https://media.istockphoto.com/vectors/blurred-bokeh-light-on-dark-blue-background-christmas-and-new-year-vector-id1128429212?k=20&m=1128429212&s=612x612&w=0&h=3tgc_kFdN4bPi_5MAc7xQEsCBh2mHdzBOY7Y3u2reWw=\"\n  }, {\n    id: 5,\n    imgSrc: \"https://imgv3.fotor.com/images/gallery/feature-background-gallery-marble-ink-1.jpg\"\n  }, {\n    id: 6,\n    imgSrc: \"https://wallpaperaccess.com/full/187161.jpg\"\n  }];\n  const handleSelectImage = data => {\n    const {\n      img,\n      id\n    } = data;\n    setBackground(img);\n  };\n\n  // if (!selectedBg[id]) {\n  //   const obj = {};\n  //   obj[id] = { img, id };\n  //   setSelectedBg({ ...obj });\n  //   setSelectedBgId(id);\n\n  // } else {\n  //   delete selectedBg[id];\n  //   setSelectedBg({});\n  //   setSelectedBgId(null);\n  // }\n  // };\n\n  const renderImages = () => {\n    return images.map(image => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `bgimages ${image.id === selectedBgId ? \"selected\" : \"\"} `,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"eachBgImg\",\n          src: image.imgSrc,\n          \"data-img\": image.imgSrc,\n          \"data-id\": image.id,\n          onClick: event => {\n            handleSelectImage(event.target.dataset);\n          },\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this)\n      }, image.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this);\n    });\n  };\n  const handleSubmit = async event => {\n    event.preventDefault();\n    SetIsError(false);\n    setIsLoading(true);\n    try {\n      const results = await axios.post(`http://localhost:3001/api/bgimg`, {\n        background,\n        cardId\n      });\n      console.log(\"RESULTS: \", results);\n      setData(results.data.results);\n    } catch (err) {\n      console.log(\"THERE IS AN ERROR\");\n      SetIsError(true);\n      setTimeout(() => SetIsError(false), 4000);\n    }\n    setIsLoading(false);\n  };\n  const handlePostSubmit = event => {\n    event.preventDefault();\n    console.log(\"BACKGROUND: \", background);\n    handleClose();\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bgListOfImages\",\n      children: renderImages()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleSubmit,\n      children: \"Submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: getBg,\n      children: \"close\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(Background, \"Pg1DEfFBiStqEujJ8eVCLnOdGe0=\");\n_c = Background;\nexport default Background;\nvar _c;\n$RefreshReg$(_c, \"Background\");","map":{"version":3,"names":["React","useState","useContext","axios","useHistory","CardContext","jsxDEV","_jsxDEV","Fragment","_Fragment","Background","props","_s","cardId","background","setBackground","data","setData","backgroundImage","setBackgroundImage","selectedBg","setSelectedBg","selectedBgId","setSelectedBgId","isLoading","setIsLoading","isError","SetIsError","show","setShow","handleClose","handleShow","getBg","url","get","then","res","console","log","bg","catch","err","images","id","imgSrc","handleSelectImage","img","renderImages","map","image","className","children","src","onClick","event","target","dataset","alt","fileName","_jsxFileName","lineNumber","columnNumber","handleSubmit","preventDefault","results","post","setTimeout","handlePostSubmit","_c","$RefreshReg$"],"sources":["/Users/yusuf/lighthouse/ciao-client/src/components/Card/Background.js"],"sourcesContent":["import React, { useState, useContext } from \"react\";\nimport \"../../background.css\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\n\nimport CardContext from './CardContext';\n\n\nconst Background = (props) => {\n  const { cardId } = props;\n  const { background, setBackground} = useContext(CardContext);\n\n  const [data, setData] = useState([]);\n  const [backgroundImage, setBackgroundImage] = useState(\"\");\n  const [selectedBg, setSelectedBg] = useState({});\n  const [selectedBgId, setSelectedBgId] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isError, SetIsError] = useState(false);\n\n  const [show, setShow] = useState(false);\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n\n  const getBg = () => {\n    const url = `http://localhost:3001/api/bgimg/${cardId}`;\n    \n    axios.get(url)\n      .then(res => {\n        console.log('data from db about bg',res.data.bg);\n        setBackground(res.data.bg);\n        console.log('background',background);\n        handleClose();\n      })\n      .catch(err => console.log('err in bg', err));\n  }\n  const images = [\n    {\n      id: 1,\n      imgSrc:\n        \"https://blog.prezi.com/wp-content/uploads/2019/03/jason-leung-479251-unsplash.jpg\",\n    },\n    {\n      id: 2,\n      imgSrc:\n        \"https://img.freepik.com/free-photo/hand-painted-watercolor-background-with-sky-clouds-shape_24972-1095.jpg?size=626&ext=jpg\",\n    },\n    {\n      id: 3,\n      imgSrc:\n        \"https://venngage-wordpress.s3.amazonaws.com/uploads/2018/09/Colorful-Circle-Simple-Background-Image-1.jpg\",\n    },\n    {\n      id: 4,\n      imgSrc:\n        \"https://media.istockphoto.com/vectors/blurred-bokeh-light-on-dark-blue-background-christmas-and-new-year-vector-id1128429212?k=20&m=1128429212&s=612x612&w=0&h=3tgc_kFdN4bPi_5MAc7xQEsCBh2mHdzBOY7Y3u2reWw=\",\n    },\n    {\n      id: 5,\n      imgSrc:\n        \"https://imgv3.fotor.com/images/gallery/feature-background-gallery-marble-ink-1.jpg\",\n    },\n    {\n      id: 6,\n      imgSrc: \"https://wallpaperaccess.com/full/187161.jpg\",\n    },\n  ];\n\n  const handleSelectImage = (data) => {\n  const { img, id } = data;\n   setBackground(img);\n  };\n   \n   \n    \n    // if (!selectedBg[id]) {\n    //   const obj = {};\n    //   obj[id] = { img, id };\n    //   setSelectedBg({ ...obj });\n    //   setSelectedBgId(id);\n      \n    // } else {\n    //   delete selectedBg[id];\n    //   setSelectedBg({});\n    //   setSelectedBgId(null);\n    // }\n  // };\n\n  const renderImages = () => {\n    return images.map((image) => {\n      return (\n        <div\n        className={`bgimages ${\n          image.id === selectedBgId ? \"selected\" : \"\"\n        } `}\n        key={image.id}>\n          <img\n            className = \"eachBgImg\"\n            src={image.imgSrc}\n            data-img={image.imgSrc}\n            data-id={image.id}\n            onClick={(event) => {\n              handleSelectImage(event.target.dataset);\n            }}\n            alt=''\n          />\n        </div>\n      );\n    });\n  };\n  \n  \n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    SetIsError(false);\n    setIsLoading(true);\n    \n    try {\n      const results = await axios.post(`http://localhost:3001/api/bgimg`, {background, cardId});\n      console.log(\"RESULTS: \", results);\n      setData(results.data.results);\n    } catch (err) { \n      console.log(\"THERE IS AN ERROR\");\n      SetIsError(true);\n      setTimeout(() => SetIsError(false), 4000);\n    }\n    setIsLoading(false);\n  };\n\n\n  const handlePostSubmit = (event) => {\n    event.preventDefault();\n    console.log(\"BACKGROUND: \", background)\n    handleClose();\n    \n\n    \n  };\n\n\n  return (\n    <>\n      <div className=\"bgListOfImages\">{renderImages()}</div>\n      {/* <button onClick = {handlePostSubmit}>Choose Background</button> */}\n      <button onClick = {handleSubmit}>Submit</button>\n      <button onClick = {getBg}>close</button>\n\n    </>\n  );\n\n  \n};\n\nexport default Background;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,UAAU,QAAQ,OAAO;AACnD,OAAO,sBAAsB;AAC7B,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,UAAU,QAAQ,kBAAkB;AAE7C,OAAOC,WAAW,MAAM,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAGxC,MAAMC,UAAU,GAAIC,KAAK,IAAK;EAAAC,EAAA;EAC5B,MAAM;IAAEC;EAAO,CAAC,GAAGF,KAAK;EACxB,MAAM;IAAEG,UAAU;IAAEC;EAAa,CAAC,GAAGb,UAAU,CAACG,WAAW,CAAC;EAE5D,MAAM,CAACW,IAAI,EAAEC,OAAO,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACiB,eAAe,EAAEC,kBAAkB,CAAC,GAAGlB,QAAQ,CAAC,EAAE,CAAC;EAC1D,MAAM,CAACmB,UAAU,EAAEC,aAAa,CAAC,GAAGpB,QAAQ,CAAC,CAAC,CAAC,CAAC;EAChD,MAAM,CAACqB,YAAY,EAAEC,eAAe,CAAC,GAAGtB,QAAQ,CAAC,IAAI,CAAC;EACtD,MAAM,CAACuB,SAAS,EAAEC,YAAY,CAAC,GAAGxB,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACyB,OAAO,EAAEC,UAAU,CAAC,GAAG1B,QAAQ,CAAC,KAAK,CAAC;EAE7C,MAAM,CAAC2B,IAAI,EAAEC,OAAO,CAAC,GAAG5B,QAAQ,CAAC,KAAK,CAAC;EACvC,MAAM6B,WAAW,GAAGA,CAAA,KAAMD,OAAO,CAAC,KAAK,CAAC;EACxC,MAAME,UAAU,GAAGA,CAAA,KAAMF,OAAO,CAAC,IAAI,CAAC;EAEtC,MAAMG,KAAK,GAAGA,CAAA,KAAM;IAClB,MAAMC,GAAG,GAAI,mCAAkCpB,MAAO,EAAC;IAEvDV,KAAK,CAAC+B,GAAG,CAACD,GAAG,CAAC,CACXE,IAAI,CAACC,GAAG,IAAI;MACXC,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAACF,GAAG,CAACpB,IAAI,CAACuB,EAAE,CAAC;MAChDxB,aAAa,CAACqB,GAAG,CAACpB,IAAI,CAACuB,EAAE,CAAC;MAC1BF,OAAO,CAACC,GAAG,CAAC,YAAY,EAACxB,UAAU,CAAC;MACpCgB,WAAW,CAAC,CAAC;IACf,CAAC,CAAC,CACDU,KAAK,CAACC,GAAG,IAAIJ,OAAO,CAACC,GAAG,CAAC,WAAW,EAAEG,GAAG,CAAC,CAAC;EAChD,CAAC;EACD,MAAMC,MAAM,GAAG,CACb;IACEC,EAAE,EAAE,CAAC;IACLC,MAAM,EACJ;EACJ,CAAC,EACD;IACED,EAAE,EAAE,CAAC;IACLC,MAAM,EACJ;EACJ,CAAC,EACD;IACED,EAAE,EAAE,CAAC;IACLC,MAAM,EACJ;EACJ,CAAC,EACD;IACED,EAAE,EAAE,CAAC;IACLC,MAAM,EACJ;EACJ,CAAC,EACD;IACED,EAAE,EAAE,CAAC;IACLC,MAAM,EACJ;EACJ,CAAC,EACD;IACED,EAAE,EAAE,CAAC;IACLC,MAAM,EAAE;EACV,CAAC,CACF;EAED,MAAMC,iBAAiB,GAAI7B,IAAI,IAAK;IACpC,MAAM;MAAE8B,GAAG;MAAEH;IAAG,CAAC,GAAG3B,IAAI;IACvBD,aAAa,CAAC+B,GAAG,CAAC;EACnB,CAAC;;EAIC;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACF;;EAEA,MAAMC,YAAY,GAAGA,CAAA,KAAM;IACzB,OAAOL,MAAM,CAACM,GAAG,CAAEC,KAAK,IAAK;MAC3B,oBACE1C,OAAA;QACA2C,SAAS,EAAG,YACVD,KAAK,CAACN,EAAE,KAAKrB,YAAY,GAAG,UAAU,GAAG,EAC1C,GAAG;QAAA6B,QAAA,eAEF5C,OAAA;UACE2C,SAAS,EAAG,WAAW;UACvBE,GAAG,EAAEH,KAAK,CAACL,MAAO;UAClB,YAAUK,KAAK,CAACL,MAAO;UACvB,WAASK,KAAK,CAACN,EAAG;UAClBU,OAAO,EAAGC,KAAK,IAAK;YAClBT,iBAAiB,CAACS,KAAK,CAACC,MAAM,CAACC,OAAO,CAAC;UACzC,CAAE;UACFC,GAAG,EAAC;QAAE;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACP;MAAC,GAVCZ,KAAK,CAACN,EAAE;QAAAe,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAWR,CAAC;IAEV,CAAC,CAAC;EACJ,CAAC;EAGD,MAAMC,YAAY,GAAG,MAAOR,KAAK,IAAK;IACpCA,KAAK,CAACS,cAAc,CAAC,CAAC;IACtBpC,UAAU,CAAC,KAAK,CAAC;IACjBF,YAAY,CAAC,IAAI,CAAC;IAElB,IAAI;MACF,MAAMuC,OAAO,GAAG,MAAM7D,KAAK,CAAC8D,IAAI,CAAE,iCAAgC,EAAE;QAACnD,UAAU;QAAED;MAAM,CAAC,CAAC;MACzFwB,OAAO,CAACC,GAAG,CAAC,WAAW,EAAE0B,OAAO,CAAC;MACjC/C,OAAO,CAAC+C,OAAO,CAAChD,IAAI,CAACgD,OAAO,CAAC;IAC/B,CAAC,CAAC,OAAOvB,GAAG,EAAE;MACZJ,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC;MAChCX,UAAU,CAAC,IAAI,CAAC;MAChBuC,UAAU,CAAC,MAAMvC,UAAU,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC;IAC3C;IACAF,YAAY,CAAC,KAAK,CAAC;EACrB,CAAC;EAGD,MAAM0C,gBAAgB,GAAIb,KAAK,IAAK;IAClCA,KAAK,CAACS,cAAc,CAAC,CAAC;IACtB1B,OAAO,CAACC,GAAG,CAAC,cAAc,EAAExB,UAAU,CAAC;IACvCgB,WAAW,CAAC,CAAC;EAIf,CAAC;EAGD,oBACEvB,OAAA,CAAAE,SAAA;IAAA0C,QAAA,gBACE5C,OAAA;MAAK2C,SAAS,EAAC,gBAAgB;MAAAC,QAAA,EAAEJ,YAAY,CAAC;IAAC;MAAAW,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC,eAEtDtD,OAAA;MAAQ8C,OAAO,EAAIS,YAAa;MAAAX,QAAA,EAAC;IAAM;MAAAO,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eAChDtD,OAAA;MAAQ8C,OAAO,EAAIrB,KAAM;MAAAmB,QAAA,EAAC;IAAK;MAAAO,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA,eAExC,CAAC;AAIP,CAAC;AAACjD,EAAA,CA9IIF,UAAU;AAAA0D,EAAA,GAAV1D,UAAU;AAgJhB,eAAeA,UAAU;AAAC,IAAA0D,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}