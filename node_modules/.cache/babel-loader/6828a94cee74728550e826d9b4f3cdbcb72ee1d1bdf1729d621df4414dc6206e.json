{"ast":null,"code":"var _jsxFileName = \"/Users/yusuf/lighthouse/ciao-client/src/components/Card/AddVideo.js\",\n  _s = $RefreshSig$();\n// import Button from \"./Button\";\nimport { useState } from \"react\";\nimport { Form, Button } from 'react-bootstrap';\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function AddVideo(props) {\n  _s();\n  const {\n    cardId,\n    userId\n  } = props;\n  const [file, setFile] = useState(\"\");\n  const [fileName, setFilename] = useState(\"Choose File\");\n  const [uploadedFile, setUploadedFile] = useState({});\n  const history = useHistory();\n  const onChange = e => {\n    setFile(e.target.files[0]);\n    setFilename(e.target.files[0].name);\n  };\n  // const onClick = () => {\n  //   console.log(\"clicked on add video\");\n  // };\n  // const title = \"Add Video\"\n\n  const onSubmit = async e => {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append(\"file\", file);\n    formData.append('cardId', cardId);\n    formData.append('userId', userId);\n    try {\n      const url = \"http://localhost:3001/api/uploads\";\n      // const reactData = {cardId, userId};\n      // console.log('reactdata in video', reactData);\n      const res = await axios.post(url, formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      });\n      const {\n        fileName,\n        filePath\n      } = res.data;\n      setUploadedFile({\n        fileName,\n        filePath\n      });\n    } catch (err) {\n      if (err) {\n        console.log(\"there was an error\");\n      } else {\n        console.log(err.response.data.msg);\n      }\n    }\n    // history.push(\"/createcard\");\n    window.location.reload(false);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: onSubmit,\n      className: \"contact-form mycontformmodal\",\n      children: /*#__PURE__*/_jsxDEV(Form.Group, {\n        controlId: \"formFile\",\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"custom-file form-group myformgrp\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"file\"\n            // className=\"custom-file-input\"\n            ,\n            onChange: onChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Form.Label, {\n            className: \"custom-file-label\",\n            children: fileName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            value: \"Upload\",\n            class: \"btn btn-primary mybtncss\",\n            children: \"Upload\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_s(AddVideo, \"aQEcxDfndGhGPmCR8NvuZNNFQ1M=\", false, function () {\n  return [useHistory];\n});\n_c = AddVideo;\nvar _c;\n$RefreshReg$(_c, \"AddVideo\");","map":{"version":3,"names":["useState","Form","Button","axios","useHistory","jsxDEV","_jsxDEV","Fragment","_Fragment","AddVideo","props","_s","cardId","userId","file","setFile","fileName","setFilename","uploadedFile","setUploadedFile","history","onChange","e","target","files","name","onSubmit","preventDefault","formData","FormData","append","url","res","post","headers","filePath","data","err","console","log","response","msg","window","location","reload","children","className","Group","controlId","Control","type","_jsxFileName","lineNumber","columnNumber","Label","value","class","_c","$RefreshReg$"],"sources":["/Users/yusuf/lighthouse/ciao-client/src/components/Card/AddVideo.js"],"sourcesContent":["// import Button from \"./Button\";\nimport { useState } from \"react\";\nimport {Form, Button }from 'react-bootstrap';\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\n\n\n\nexport default function AddVideo(props) {\n  const {cardId, userId} =props;\n  const [file, setFile] = useState(\"\");\n  const [fileName, setFilename] = useState(\"Choose File\");\n  const [uploadedFile, setUploadedFile] = useState({});\n  const history = useHistory();\n  const onChange = (e) => {\n    setFile(e.target.files[0]);\n    setFilename(e.target.files[0].name);\n  };\n  // const onClick = () => {\n  //   console.log(\"clicked on add video\");\n  // };\n  // const title = \"Add Video\"\n \n  const onSubmit = async (e) => {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append(\"file\", file);\n    formData.append('cardId', cardId);\n    formData.append('userId', userId);\n\n    \n     \n    try {\n      const url = \"http://localhost:3001/api/uploads\";\n      // const reactData = {cardId, userId};\n      // console.log('reactdata in video', reactData);\n      const res = await axios.post(url, formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\", \n        },\n      });\n\n      const { fileName, filePath } = res.data;\n      setUploadedFile({ fileName, filePath });\n    } catch (err) {\n      if (err) {\n        console.log(\"there was an error\");\n      } else {\n        console.log(err.response.data.msg);\n      }\n    }\n    // history.push(\"/createcard\");\n    window.location.reload(false);\n  };\n\n  \n  return (\n    <>\n      {/* <Button onClick={onClick} title = {title}/> */}\n      <Form onSubmit={onSubmit} className=\"contact-form mycontformmodal\">\n      <Form.Group controlId=\"formFile\" className=\"mb-3\" >\n      {/* <form > */}\n        <div className=\"custom-file form-group myformgrp\">\n          <Form.Control\n            type=\"file\"\n            // className=\"custom-file-input\"\n            onChange={onChange}\n          />\n          <Form.Label className=\"custom-file-label\" >\n            {fileName}\n          </Form.Label>\n        </div>\n        <div>\n        <button type=\"submit\" value=\"Upload\" class=\"btn btn-primary mybtncss\">Upload</button>\n        </div>\n        {/* <Form.Control type=\"submit\" value=\"Upload\" className=\"mybtncss\" /> */}\n       \n      </Form.Group> \n      </Form>\n    </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}