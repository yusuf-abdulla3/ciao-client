{"ast":null,"code":"var _jsxFileName = \"/Users/yusuf/lighthouse/Ciao-1/client/src/components/Card/Background.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext } from \"react\";\nimport \"../../background.css\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport CardContext from './CardContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Background = props => {\n  _s();\n\n  const {\n    cardId\n  } = props;\n  const {\n    background,\n    setBackground\n  } = useContext(CardContext);\n  const [data, setData] = useState([]);\n  const [backgroundImage, setBackgroundImage] = useState(\"\");\n  const [selectedBg, setSelectedBg] = useState({});\n  const [selectedBgId, setSelectedBgId] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isError, SetIsError] = useState(false);\n  const [show, setShow] = useState(false);\n\n  const handleClose = () => setShow(false);\n\n  const handleShow = () => setShow(true);\n\n  const getBg = () => {\n    const url = `http://localhost:3001/api/bgimg/${cardId}`;\n    axios.get(url).then(res => {\n      console.log('data from db about bg', res.data.bg);\n      setBackground(res.data.bg);\n      console.log('background', background);\n      handleClose();\n    }).catch(err => console.log('err in bg', err));\n  };\n\n  const images = [{\n    id: 1,\n    imgSrc: \"https://blog.prezi.com/wp-content/uploads/2019/03/jason-leung-479251-unsplash.jpg\"\n  }, {\n    id: 2,\n    imgSrc: \"https://img.freepik.com/free-photo/hand-painted-watercolor-background-with-sky-clouds-shape_24972-1095.jpg?size=626&ext=jpg\"\n  }, {\n    id: 3,\n    imgSrc: \"https://venngage-wordpress.s3.amazonaws.com/uploads/2018/09/Colorful-Circle-Simple-Background-Image-1.jpg\"\n  }, {\n    id: 4,\n    imgSrc: \"https://media.istockphoto.com/vectors/blurred-bokeh-light-on-dark-blue-background-christmas-and-new-year-vector-id1128429212?k=20&m=1128429212&s=612x612&w=0&h=3tgc_kFdN4bPi_5MAc7xQEsCBh2mHdzBOY7Y3u2reWw=\"\n  }, {\n    id: 5,\n    imgSrc: \"https://imgv3.fotor.com/images/gallery/feature-background-gallery-marble-ink-1.jpg\"\n  }, {\n    id: 6,\n    imgSrc: \"https://wallpaperaccess.com/full/187161.jpg\"\n  }];\n\n  const handleSelectImage = data => {\n    const {\n      img,\n      id\n    } = data;\n    setBackground(img);\n  }; // if (!selectedBg[id]) {\n  //   const obj = {};\n  //   obj[id] = { img, id };\n  //   setSelectedBg({ ...obj });\n  //   setSelectedBgId(id);\n  // } else {\n  //   delete selectedBg[id];\n  //   setSelectedBg({});\n  //   setSelectedBgId(null);\n  // }\n  // };\n\n\n  const renderImages = () => {\n    return images.map(image => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `bgimages ${image.id === selectedBgId ? \"selected\" : \"\"} `,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"eachBgImg\",\n          src: image.imgSrc,\n          \"data-img\": image.imgSrc,\n          \"data-id\": image.id,\n          onClick: event => {\n            handleSelectImage(event.target.dataset);\n          },\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this)\n      }, image.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this);\n    });\n  };\n\n  const handleSubmit = async event => {\n    event.preventDefault();\n    SetIsError(false);\n    setIsLoading(true);\n\n    try {\n      const results = await axios.post(`http://localhost:3001/api/bgimg`, {\n        background,\n        cardId\n      });\n      console.log(\"RESULTS: \", results);\n      setData(results.data.results);\n    } catch (err) {\n      console.log(\"THERE IS AN ERROR\");\n      SetIsError(true);\n      setTimeout(() => SetIsError(false), 4000);\n    }\n\n    setIsLoading(false);\n  };\n\n  const handlePostSubmit = event => {\n    event.preventDefault();\n    console.log(\"BACKGROUND: \", background);\n    handleClose();\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bgListOfImages\",\n      children: renderImages()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleSubmit,\n      children: \"Submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: getBg,\n      children: \"close\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Background, \"Pg1DEfFBiStqEujJ8eVCLnOdGe0=\");\n\n_c = Background;\nexport default Background;\n\nvar _c;\n\n$RefreshReg$(_c, \"Background\");","map":{"version":3,"sources":["/Users/yusuf/lighthouse/Ciao-1/client/src/components/Card/Background.js"],"names":["React","useState","useContext","axios","useHistory","CardContext","Background","props","cardId","background","setBackground","data","setData","backgroundImage","setBackgroundImage","selectedBg","setSelectedBg","selectedBgId","setSelectedBgId","isLoading","setIsLoading","isError","SetIsError","show","setShow","handleClose","handleShow","getBg","url","get","then","res","console","log","bg","catch","err","images","id","imgSrc","handleSelectImage","img","renderImages","map","image","event","target","dataset","handleSubmit","preventDefault","results","post","setTimeout","handlePostSubmit"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from \"react\";\nimport \"../../background.css\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\n\nimport CardContext from './CardContext';\n\n\nconst Background = (props) => {\n  const { cardId } = props;\n  const { background, setBackground} = useContext(CardContext);\n\n  const [data, setData] = useState([]);\n  const [backgroundImage, setBackgroundImage] = useState(\"\");\n  const [selectedBg, setSelectedBg] = useState({});\n  const [selectedBgId, setSelectedBgId] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isError, SetIsError] = useState(false);\n\n  const [show, setShow] = useState(false);\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n\n  const getBg = () => {\n    const url = `http://localhost:3001/api/bgimg/${cardId}`;\n    \n    axios.get(url)\n      .then(res => {\n        console.log('data from db about bg',res.data.bg);\n        setBackground(res.data.bg);\n        console.log('background',background);\n        handleClose();\n      })\n      .catch(err => console.log('err in bg', err));\n  }\n  const images = [\n    {\n      id: 1,\n      imgSrc:\n        \"https://blog.prezi.com/wp-content/uploads/2019/03/jason-leung-479251-unsplash.jpg\",\n    },\n    {\n      id: 2,\n      imgSrc:\n        \"https://img.freepik.com/free-photo/hand-painted-watercolor-background-with-sky-clouds-shape_24972-1095.jpg?size=626&ext=jpg\",\n    },\n    {\n      id: 3,\n      imgSrc:\n        \"https://venngage-wordpress.s3.amazonaws.com/uploads/2018/09/Colorful-Circle-Simple-Background-Image-1.jpg\",\n    },\n    {\n      id: 4,\n      imgSrc:\n        \"https://media.istockphoto.com/vectors/blurred-bokeh-light-on-dark-blue-background-christmas-and-new-year-vector-id1128429212?k=20&m=1128429212&s=612x612&w=0&h=3tgc_kFdN4bPi_5MAc7xQEsCBh2mHdzBOY7Y3u2reWw=\",\n    },\n    {\n      id: 5,\n      imgSrc:\n        \"https://imgv3.fotor.com/images/gallery/feature-background-gallery-marble-ink-1.jpg\",\n    },\n    {\n      id: 6,\n      imgSrc: \"https://wallpaperaccess.com/full/187161.jpg\",\n    },\n  ];\n\n  const handleSelectImage = (data) => {\n  const { img, id } = data;\n   setBackground(img);\n  };\n   \n   \n    \n    // if (!selectedBg[id]) {\n    //   const obj = {};\n    //   obj[id] = { img, id };\n    //   setSelectedBg({ ...obj });\n    //   setSelectedBgId(id);\n      \n    // } else {\n    //   delete selectedBg[id];\n    //   setSelectedBg({});\n    //   setSelectedBgId(null);\n    // }\n  // };\n\n  const renderImages = () => {\n    return images.map((image) => {\n      return (\n        <div\n        className={`bgimages ${\n          image.id === selectedBgId ? \"selected\" : \"\"\n        } `}\n        key={image.id}>\n          <img\n            className = \"eachBgImg\"\n            src={image.imgSrc}\n            data-img={image.imgSrc}\n            data-id={image.id}\n            onClick={(event) => {\n              handleSelectImage(event.target.dataset);\n            }}\n            alt=''\n          />\n        </div>\n      );\n    });\n  };\n  \n  \n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    SetIsError(false);\n    setIsLoading(true);\n    \n    try {\n      const results = await axios.post(`http://localhost:3001/api/bgimg`, {background, cardId});\n      console.log(\"RESULTS: \", results);\n      setData(results.data.results);\n    } catch (err) { \n      console.log(\"THERE IS AN ERROR\");\n      SetIsError(true);\n      setTimeout(() => SetIsError(false), 4000);\n    }\n    setIsLoading(false);\n  };\n\n\n  const handlePostSubmit = (event) => {\n    event.preventDefault();\n    console.log(\"BACKGROUND: \", background)\n    handleClose();\n    \n\n    \n  };\n\n\n  return (\n    <>\n      <div className=\"bgListOfImages\">{renderImages()}</div>\n      {/* <button onClick = {handlePostSubmit}>Choose Background</button> */}\n      <button onClick = {handleSubmit}>Submit</button>\n      <button onClick = {getBg}>close</button>\n\n    </>\n  );\n\n  \n};\n\nexport default Background;\n"]},"metadata":{},"sourceType":"module"}