{"ast":null,"code":"var _jsxFileName = \"/Users/yusuf/lighthouse/Ciao-1/client/src/components/Login.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport '../css/tooplate-style.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Login(props) {\n  _s();\n\n  const {\n    setLoginStatus,\n    setFirstName,\n    setUserId\n  } = props;\n  const history = useHistory();\n  const [logEmail, setLogEmail] = useState('');\n  const [logPass, setLogPass] = useState('');\n\n  const handleLoginSub = event => {\n    event.preventDefault();\n    const reactLogData = {\n      logEmail,\n      logPass\n    };\n    const url = 'http://localhost:3001/api/login/';\n    axios.post(url, reactLogData, {\n      withCredentials: true\n    }).then(res => {\n      console.log('login details send'); // console.log(res.data.rows[0].firstname);\n      // console.log('what the',res.data.rows[0])\n\n      console.log('w', res.data.message);\n\n      if (!res.data.message) {\n        console.log(res.data.rows[0]);\n        setFirstName(res.data.rows[0].first_name);\n        setLoginStatus(true);\n        setUserId(res.data.rows[0].id);\n      } else {\n        console.log(res.data.message);\n        setLoginStatus(false);\n        setFirstName('');\n      }\n    }).catch(err => console.log('--->--', err));\n    history.push('/');\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-xs-12 col-sm-12  col-lg-3 col-xl-3 mt-3 \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-xs-12 col-sm-12  col-lg-6 col-xl-5 mt-3 \",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleLoginSub,\n            className: \"contact-form mycontform\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group myformgrp\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"Please enter your email\",\n                onChange: e => setLogEmail(e.target.value),\n                className: \"form-control\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 53,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group myformgrp\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"password\",\n                placeholder: \"Please enter your password\",\n                onChange: e => setLogPass(e.target.value),\n                className: \"form-control\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              value: \"Login\",\n              class: \"btn btn-primary mybtncss\",\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }, this)\n  }, void 0, false);\n}\n\n_s(Login, \"sfXwIr4vkPqpgrXmYxAXGALkfQ0=\", false, function () {\n  return [useHistory];\n});\n\n_c = Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/yusuf/lighthouse/Ciao-1/client/src/components/Login.js"],"names":["useState","axios","useHistory","Login","props","setLoginStatus","setFirstName","setUserId","history","logEmail","setLogEmail","logPass","setLogPass","handleLoginSub","event","preventDefault","reactLogData","url","post","withCredentials","then","res","console","log","data","message","rows","first_name","id","catch","err","push","e","target","value"],"mappings":"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","sourcesContent":["import { useState } from \"react\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport '../css/tooplate-style.css';\n\n\nexport default function Login(props) {\n  const { setLoginStatus, setFirstName, setUserId } = props;\n  const history = useHistory();\n  const [logEmail, setLogEmail] = useState('');\n  const [logPass, setLogPass] = useState('');\n  \n\n  const handleLoginSub = (event) => {\n    event.preventDefault();\n    const reactLogData = {logEmail, logPass};\n    const url = 'http://localhost:3001/api/login/';\n    axios.post(url, reactLogData, {withCredentials: true})\n    .then(res => {\n      console.log('login details send');\n      // console.log(res.data.rows[0].firstname);\n      // console.log('what the',res.data.rows[0])\n      console.log('w',res.data.message);\n\n      if(!res.data.message){\n        console.log(res.data.rows[0])\n        setFirstName(res.data.rows[0].first_name)\n        setLoginStatus(true);\n        setUserId(res.data.rows[0].id)\n      }else{\n        console.log(res.data.message);\n        setLoginStatus(false);\n        setFirstName('');\n      }\n      \n    })\n    .catch(err => console.log('--->--',err))\n\n    \n    history.push('/');  \n  }\n  \n\n  return (\n    <>\n      \n          <div className=\"row\">\n            <div className = \"col-xs-12 col-sm-12  col-lg-3 col-xl-3 mt-3 \"></div>\n            <div className=\"col-xs-12 col-sm-12  col-lg-6 col-xl-5 mt-3 \">\n              <div className=\"\">\n                <form onSubmit={handleLoginSub} className=\"contact-form mycontform\">\n                  <div className=\"form-group myformgrp\">\n                    <input\n                      type=\"text\"\n                      placeholder = \"Please enter your email\"\n                      onChange = {e => setLogEmail(e.target.value)}\n                      className=\"form-control\"\n                    />\n                  </div>\n                  <div className=\"form-group myformgrp\">\n                    <input\n                      type=\"password\"\n                      placeholder = \"Please enter your password\"\n                      onChange = {e => setLogPass(e.target.value)}\n                      className=\"form-control\"\n                    />\n                  </div>\n                  <button type=\"submit\" value=\"Login\" class=\"btn btn-primary mybtncss\">Login</button>\n                </form>\n              </div>\n            </div>\n          </div>\n        \n\n      \n      {/* <h1>{loginStatus}</h1> */}\n    </>\n  );\n}"]},"metadata":{},"sourceType":"module"}